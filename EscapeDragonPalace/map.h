#pragma once

// ¸ÅÅ©·Î
#define STAGE_CNT 5 // ½ºÅ×ÀÌÁö °¹¼ö
#define BG_CNT 10 // ¸Ê ¹è°æ ¿ä¼Ò °¹¼ö
#define BG_LINE 20 // ¸Ê ¹è°æ ÁÙ ¼ö
#define PLATFORM_LINE_CNT 10 // ¹ßÆÇ ÁÙ ¼ö
#define PLATFORM_STR_MAX 3000 // ¹ßÆÇ ¹®ÀÚ ÃÖ´ñ°ª
#define MAP_HEIGHT 49 // ¸Ê ³ôÀÌ
#define MAP_WIDTH SCREEN_WIDTH
#define GOAL_HEIGHT 5 // µµÂøÁöÁ¡ ³ôÀÌ

void DrawMap();
void UpdateMapPos();
int GetMapStatus(); // ÇöÀç ¸Ê ºÒ·¯¿À±â
void SetMapStatus(int src); // ÇöÀç ¸Ê »óÅÂ º¯°æÇÏ±â
int GetPlusY(); // Y Áõ°¡°ª ºÒ·¯¿À±â
void SetPlusY(int src); // Y Áõ°¡°ª º¯°æÇÏ±â
int GetPlusX(); // X Áõ°¡°ª ºÒ·¯¿À±â
void SetPlusX(int src); // X Áõ°¡°ª º¯°æÇÏ±â

// CMD »ö±ò
typedef enum CMDColor
{
	E_Black,
	E_Blue,
	E_Green,
	E_Teal, // Ã»·Ï»ö
	E_Red,
	E_Purple,
	E_Yellow,
	E_White,
	E_Gray,
	E_BrightBlue,
	E_BrightGreen,
	E_BrightTeal,
	E_BrightRed,
	E_BrightPurple,
	E_BrightYellow,
	E_BrightWhite,
} CMDColor;

// ¸Ê
typedef enum MapStatus
{
	E_Jail, // °¨¿Á
	E_DragonPalace, // ¿ë±Ã
	E_Sea1, // ¹Ù´Ù1
	E_Sea2, // ¹Ù´Ù2
	E_Ground, // À°Áö(º¸½º)
} MapStatus;

// ½ºÅ×ÀÌÁö ¹è°æ ±¸Á¶Ã¼
typedef struct StageBG
{
	MyPoint pos; // Ãâ·Â À§Ä¡
	CMDColor color; // Ãâ·Â »ö»ó
	char bg[SCREEN_HEIGHT][STR_MAX]; // ¹è°æ
} StageBG;

// TODO: ¸Ê µû·Î ÀúÀåÇÏ´Â ÆÄÀÏ ¸¸µé±â
/// <summary>
/// Åä³¢ ½ÃÀÛ À§Ä¡
/// °¨¿Á&¿ë±Ã: (x: 5, y: 45)
/// ¹Ù´Ù1&2: (x: 7, y: 21)
/// </summary>
// ¸Ê Æ²
static char g_Map[SCREEN_HEIGHT][SCREEN_WIDTH] =
{
	"¡«============================================================================¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«                                                                            ¡«",
	"¡«============================================================================¡«",
};

// ¸Ê ¹è°æ
static StageBG g_StageBG[STAGE_CNT][BG_CNT] =
{
{ // ¸Ê - °¨¿Á
	{
		{2, 1},
		E_Gray,
		{
			"______________________________________________",
			"_   __   __   __   __   __   __   __   __   __|",
			" | |  | |  | |  | |  | |  | |  | |  | |  | |",
			" | |  | |  | |  | |  | |  | |  | |  | |  | |",
			" | |__| |__| |  | |  | |  | |__| |__| |  | |",
			" |  _______  |  | |  | |  |  _______  |  | |",
			"_| |       | |__| |__| |__| | | | | | |__| |",
			"_  |       |  __   __   __  | | | | |  __  |",
			" | |       | |  | |  | |  | | | | |.| |  | |",
			" | |       | |  | |  | |  | | | | | | |  | |",
			" | |       | |  | |  | |  | | | | | | |  | |",
		},
	},
	{
		{6, 13},
		E_Gray,
		{
			"                             ________/\\\\/",
			"                            /\\\\_____\\\\/ |",
			"                         _/\\\\/ |  |  |  |",
			"                    ____/\\\\/|  |  |  |  |",
			"                 _/\\\\__\\\\/  |  |  |  |  |",
			"           _____/\\\\/  |  |  |  |  |  |  |",
			"         _/\\\\__\\\\/ |  |  |  |  |  |  |  |",
			"   _____/\\\\/ |  |  |  |  |  |  |  |  |  |",
			" _/\\\\__\\\\/|  |  |  |  |  |  |  |  |  |  |",
			"/\\\\/|  |  |  |  |  |  |  |  |  |  |  |  |",
		},
	},
	{
		{23, 23},
		E_Gray,
		{
			"_____________________________________________________",
			"|                                                    ",
			"|                 _________          _________       ",
			"|        ____    |  _____  |        |  _____  |    __",
			"|       |____|   | | | | | |        | | | | | |   |__",
			"|                | | | | | |        | | | | | |      ",
			"|                | |_|_|_| |        | |_|_|_| |      ",
			"|                |         |        |         |      ",
			"|                |       . |        | .       |      ",
			"|                |  _____  |        |  _____  |      ",
			"|                | | | | | |        | | | | | |      ",
		},
	},
	{
		{2, 37},
		E_Gray,
		{
			"____________________________________________________________________________",
			"_   __   __   __   __   __   __   __   __   __   __   __   __   __   __   __",
			" | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  ",
			" | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  | |  ",
			" | |  | |  | |__| |__| |  | |  | |  | |  | |  | |__| |__| |  | |  | |  | |  ",
			" | |  | |  |  _______  |  | |  | |  | |  | |  |  _______  |  | |  | |  | |  ",
			"_| |__| |__| | | | | | |__| |__| |__| |__| |__| | | | | | |__| |__| |__| |__",
			"_   __   __  | | | | |  __   __   __   __   __  | | | | |  __   __   __   __",
			" | |  | |  | | | | |.| |  | |  | |  | |  | |  | | | | |.| |  | |  | |  | |  ",
			" | |  | |  | | | | | | |  | |  | |  | |  | |  | | | | | | |  | |  | |  | |  ",
			" | |  | |  | | | | | | |  | |  | |  | |  | |  | | | | | | |  | |  | |  | |  ",
		},
	},
	{
		// Goal
		{6, 7},
		E_BrightBlue,
		{
			"  @@@",
			" @@ @@",
			"@@ @ @@",
			" @@ @@",
			"  @@@",
		}
	},
},
{ // ¸Ê - ¿ë±Ã
	{
		{36, 4},
		E_Gray,
		{
			"                 /\\        /\\",
			"                ( (________) )",
			"               /             \\",
			"       _______/               \\_______",
			"       \\                             /",
			"        \\___________________________/",
			"             |       ___       |",
			"   __________|______|_|_|______|________",
			"   \\                                   /",
			"    \\_________________________________/",
			"         |        _________        |",
			"         |       |    |    |       |",
			"   ______|_______|____|____|_______|____",
			"  /",
			" /",
			"/_______________________________________",
			"     |           ___________          |",
			"     |          |     |     |         |",
			"     |          |    .|.    |         |",
			"     |          |     |     |         |",
		},
	},
	{
		{3, 29},
		E_Gray,
		{
			"         __ ",
			"       / / /",
			"       \\ \\ \\    __ ",
			"       / / /  / / /",
			"  __   \\ \\ \\  \\ \\ \\",
			"/ / /  / / /  / / /",
			"\\ \\ \\  \\ \\ \\  \\ \\ \\",
		}
	},
	{
		{45, 42},
		E_Gray,
		{
			"        __",
			"       \\ \\ \\",
			" __    / / /",
			"\\ \\ \\  \\ \\ \\",
			"/ / /  / / /",
			"\\ \\ \\  \\ \\ \\",
		}
	},
	{
		{3, 38},
		E_Gray,
		{
			"_____________________ ",
			"                     \\ ",
			"                      \\ ",
			"                       \\ ",
			"________________________\\ ",
			"                  |",
			"_________         |",
			"   |     \\        |",
			"  .|.    |        |",
			"   |     |        |",
		}
	},
	{
		// Goal
		{5, 7},
		E_BrightBlue,
		{
			"  @@@",
			" @@ @@",
			"@@ @ @@",
			" @@ @@",
			"  @@@",
		}
	},
},
{ // ¸Ê - ¹Ù´Ù1
	{
		{ 2, 7 },
		E_Gray,
		{
			"  /\\          /\\",
			" ( (__________) )",
			"/               \\",
			"                 \\_______",
			"                         /",
			"________________________/",
			"                  |",
			"      _____       |",
			"_____|__|__|______|________",
			"                           /",
			"__________________________/",
			"                      |",
			"__ ___________ ____   |",
			"  |           |    |  |",
			"  |           |    |  |",
			"  |           |    |  |",
			"  |           |    |  |",
		}
	},
	{
		{ 40, 18 },
		E_Gray,
		{
			"        __",
			"       \\ \\ \\",
			" __    / / /",
			"\\ \\ \\  \\ \\ \\",
			"/ / /  / / /",
			"\\ \\ \\  \\ \\ \\",
		}
	},
	{
		{ 100, 17 },
		E_Gray,
		{
			"         __ ",
			"       / / /",
			"  __   \\ \\ \\",
			"/ / /  / / /",
			"\\ \\ \\  \\ \\ \\    __",
			"/ / /  / / /  / / /",
			"\\ \\ \\  \\ \\ \\  \\ \\ \\",
		}
	},
	{
		{ 127, 17 },
		E_Gray,
		{
			"  __ ",
			"/ / /",
			"\\ \\ \\    __",
			"/ / /  / / /",
			"\\ \\ \\  \\ \\ \\",
			"/ / /  / / /",
			"\\ \\ \\  \\ \\ \\",
		}
	},
	{
		{ 287, 18 },
		E_BrightBlue,
		{
			"  @@@",
			" @@ @@",
			"@@ @ @@",
			" @@ @@",
			"  @@@",
		} // Goal
	},
},
{ // ¸Ê - ¹Ù´Ù2
	{ 0, }
},
{ // º¸½º¸Ê - À°Áö
	{ 0, },
},
};

// ¸Ê ¹ßÆÇ º¯¼ö
static char g_StagePlatform[STAGE_CNT][SCREEN_HEIGHT][PLATFORM_STR_MAX] =
{
	{
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
	},
	{ // ¸Ê - ¿ë±Ã ¹ßÆÇ
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
		"                                                                                                ",
	},
};

// ¸Ê ¹ßÆÇ
static StageBG g_StagePlatform2[STAGE_CNT][PLATFORM_LINE_CNT] =
{
{ // °¨¿Á ¸Ê ¹ßÆÇ
	{
		{42, 43},
		E_BrightWhite,
		{
			"=======",
		}
	},
	{
		{10, 38},
		E_BrightWhite,
		{
			"============================",
		}
	},
	{
		{20, 34},
		E_BrightWhite,
		{
			"========================================================",
		}
	},
	{
		{52, 29},
		E_BrightWhite,
		{
			"======",
		}
	},
	{
		{2, 23},
		E_BrightWhite,
		{
			"==============================================",
		}
	},
	{
		{60, 17},
		E_BrightWhite,
		{
			"==================",
		}
	},
	{
		{2, 12},
		E_BrightWhite,
		{
			"==================================================",
		}
	},
},
{ // ¿ë±Ã ¸Ê ¹ßÆÇ
	{
		{2, 12},
		E_BrightWhite,
		{
			"=====================",
		}
	},
	{
		{26, 18},
		E_BrightWhite,
		{
			"=======",
		}
	},
	{
		{35, 24},
		E_BrightWhite,
		{
			"=========================================",
		}
	},
	{
		{17, 30},
		E_BrightWhite,
		{
			"========",
		}
	},
	{
		{2, 36},
		E_BrightWhite,
		{
			"=====================================================",
		}
	},
	{
		{60, 42},
		E_BrightWhite,
		{
			"================",
		}
	},
},
{ // ¸Ê - ¹Ù´Ù1
	{
		{ 0, },
	},
},
{ // ¸Ê - ¹Ù´Ù2
	{ 0, },
},
{ // º¸½º¸Ê - À°Áö
	{
		{ 10, 19 },
		E_BrightWhite,
		{
			"=========================================",
		}
	},
	{
		{ 10, 14 },
		E_BrightWhite,
		{
			"=========================================",
		}
	},
	{
		{ 10, 9 },
		E_BrightWhite,
		{
			"=========================================",
		}
	},
}
};